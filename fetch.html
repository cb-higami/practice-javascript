<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        const url = 'https://dog.ceo/api/breeds/image/random';
        const options = {
            method : 'get'
        }
        // const fetchtest  = fetch(url, options)
        //     .then(response => response.json())
        //     .then( j => j.message);
        // console.log(fetchtest)


        //いつ返ってくるかわからない
        function getDogImage(url, options) {
            return fetch(url, options) 
                .then( res => {
                    if(res.ok) {
                        return res.json()
                    }
                    throw Error('エラーです')
                }).catch( e => console.log(e));
        }

        async function getImage (url, options) {
            const response = await getDogImage(url, options);
            console.log(response.message)
            const imageEle = document.createElement('img');
            imageEle.src = response.message;
            document.body.appendChild(imageEle)
        }

        getImage(url, options)
        
    </script>

    <img src="" id="image">
    
</body>
</html>